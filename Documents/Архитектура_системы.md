# Архитектура системы

## Общий обзор
Система **InnoSport** представляет собой WPF-приложение, разработанное на платформе .NET 8. Основная цель системы — управление спортивными секциями, пользователями и бизнес-процессами, связанными с ними. Приложение поддерживает несколько ролей пользователей, таких как главный администратор, администратор, тренер, спортсмен и обычный пользователь.

---

## Основные компоненты системы

### 1. **Пользовательский интерфейс (UI)**
- **Технология**: WPF (Windows Presentation Foundation).
- **Основные окна**:
  - `ChiefAdministratorMainWindow` — главное окно для главного администратора.
  - `AdministratorMainWindow` — окно для администратора.
  - `TrainerMainWindow` — окно для тренера.
  - `SportsmainMainWindow` — окно для спортсмена.
  - `AvailableSections` — окно для просмотра доступных секций пользователем.
- **Особенности**:
  - Используются `DataGrid` для отображения данных (пользователей, секций).
  - Реализована навигация между окнами через кнопки и события.

---

### 2. **База данных**
- **Технология**: SQLite.
- **Контекст базы данных**: `AppDBContext`.
- **Основные таблицы**:
  - `Users` — хранит данные о пользователях (имя, фамилия, логин, пароль, роль и т.д.).
  - `Sections` — хранит данные о спортивных секциях (название, тип, описание).
  - `UserSections` — связывает пользователей с секциями (многие-ко-многим).

#### Структура таблиц:
- **`Users`**:
  - `Id` (int, PK) — уникальный идентификатор пользователя.
  - `Name` (string) — имя пользователя.
  - `Surname` (string) — фамилия пользователя.
  - `Login` (string) — логин для входа.
  - `Password` (string) — пароль.
  - `Role` (enum) — роль пользователя (Пользователь, Спортсмен, Тренер, Администратор, ГлавныйАдминистратор).

- **`Sections`**:
  - `Id` (int, PK) — уникальный идентификатор секции.
  - `Name` (string) — название секции.
  - `Type` (string) — тип секции.
  - `Description` (string) — описание секции.

- **`UserSections`**:
  - `Id` (int, PK) — уникальный идентификатор связи.
  - `UserId` (int, FK) — идентификатор пользователя.
  - `SectionId` (int, FK) — идентификатор секции.

---

### 3. **Бизнес-логика**
- **Роли пользователей**:
  - **Главный администратор**:
    - Управляет пользователями и секциями.
    - Может добавлять, редактировать и удалять пользователей и секции.
  - **Администратор**:
    - Управляет секциями и пользователями в ограниченном объеме.
  - **Тренер**:
    - Управляет расписанием тренировок и отслеживает прогресс спортсменов.
  - **Спортсмен**:
    - Просматривает свои достижения и расписание тренировок.
  - **Обычный пользователь**:
    - Просматривает доступные секции и может присоединяться к ним.

- **Основные процессы**:
  - Добавление, редактирование и удаление пользователей.
  - Добавление, редактирование и удаление секций.
  - Присоединение пользователей к секциям.
  - Просмотр основной информации (количество пользователей, секций и т.д.).

---

### 4. **Навигация**
- Навигация между окнами реализована через события кнопок.
- Пример:
  - Кнопка "Добавить пользователя" открывает окно `ChiefAdminAddNewUser`.
  - Кнопка "Редактировать секцию" открывает окно `ChiefAdministratorEditingSection`.

---

### 5. **Технологии и инструменты**
- **Язык программирования**: C# 12.0.
- **Платформа**: .NET 8.
- **База данных**: SQLite.
- **Среда разработки**: Visual Studio 2022.
- **Фреймворк для UI**: WPF.

---

### 6. **Пример взаимодействия компонентов**
1. Пользователь (главный администратор) открывает окно `ChiefAdministratorMainWindow`.
2. Через интерфейс он добавляет новую секцию, заполняя данные в окне `ChiefAdminAddSection`.
3. Данные сохраняются в таблице `Sections` базы данных SQLite через контекст `AppDBContext`.
4. Обновленный список секций отображается в `DataGrid` окна `ChiefAdministratorMainWindow`.

---

### 7. **Потенциальные улучшения**
- Реализация авторизации и аутентификации для пользователей.
- Добавление логирования действий пользователей.
- Поддержка работы с удаленной базой данных.
- Улучшение пользовательского интерфейса с использованием современных библиотек (например, Material Design).

---

### 8. **Заключение**
Архитектура системы **InnoSport** построена на основе модульного подхода, что обеспечивает легкость в поддержке и расширении функционала. Использование WPF и SQLite делает приложение удобным для локального использования, а четкое разделение ролей пользователей упрощает управление данными.



